<!doctype html>
<html>
	<head>
		<title>Progress Bars</title>
		<style>
			.container {
				width: 500px;
			}

			.progressbar-container {
				height: 30px;
				border: 1px solid;
				margin-bottom: 10px;
			}

			.progress-bar {
				height: 100%;
				width: 0%;
				background-color: green;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="progressbar-container">
				<div class="progress-bar" duration="2000"></div>
			</div>
			<div class="progressbar-container">
				<div class="progress-bar" duration="3000"></div>
			</div>
			<div class="progressbar-container">
				<div class="progress-bar" duration="1500"></div>
			</div>
		</div>
		<script>
			async function startProgressBar(progressBar, duration) {
				const interval = duration / 100;
				let counter = 0;

				return new Promise((resolve, reject) => {
					const intervalId = setInterval(() => {
						counter++;
						if (counter >= 100) {
							clearInterval(intervalId);
							resolve();
						}

						progressBar.style.width = `${counter}%`;
					}, interval);
				});
			}

			async function start() {
				const progressBars = document.querySelectorAll('.progress-bar');

				for (let i = 0; i < progressBars.length; i++) {
					progressBar = progressBars[i];
					const duration = Number(progressBar.getAttribute('duration'));
					await startProgressBar(progressBar, duration);
				}
			}

			start();
		</script>
	</body>
</html>
